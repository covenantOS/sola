# ===========================================
# SOLA+ 2.0 ENVIRONMENT VARIABLES
# ===========================================
# Copy this file to .env.local and fill in the values
# NEVER commit .env.local to git!

# ===========================================
# DATABASE (Supabase PostgreSQL)
# ===========================================
DATABASE_URL="postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres"
DIRECT_URL="postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres"

# Supabase API (if using Supabase Auth features)
NEXT_PUBLIC_SUPABASE_URL="https://[PROJECT-REF].supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-key"
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# ===========================================
# CACHE (Upstash Redis)
# ===========================================
REDIS_URL="rediss://default:[PASSWORD]@[HOST].upstash.io:6379"
UPSTASH_REDIS_REST_URL="https://[HOST].upstash.io"
UPSTASH_REDIS_REST_TOKEN="your-upstash-token"

# ===========================================
# AUTH (Logto)
# ===========================================
# Get these from your Logto Console
LOGTO_ENDPOINT="https://your-tenant.logto.app"
LOGTO_APP_ID="your-app-id"
LOGTO_APP_SECRET="your-app-secret"
LOGTO_COOKIE_SECRET="random-32-character-string-for-cookies"

# Logto Webhook Secret (for webhook signature verification)
LOGTO_WEBHOOK_SECRET="your-logto-webhook-secret"

# ===========================================
# PAYMENTS (Stripe)
# ===========================================
STRIPE_SECRET_KEY="sk_test_..."
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# Stripe Connect
STRIPE_CONNECT_CLIENT_ID="ca_..."

# Platform fee percentage (0 = no platform fee, 100% goes to creator)
PLATFORM_FEE_PERCENT="0"

# ===========================================
# VIDEO (Mux)
# ===========================================
MUX_TOKEN_ID="your-mux-token-id"
MUX_TOKEN_SECRET="your-mux-token-secret"

# For signed playback URLs (optional, for private videos)
MUX_SIGNING_KEY_ID="your-signing-key-id"
MUX_SIGNING_KEY_SECRET="your-signing-key-secret"

# Mux Environment Key (for Mux Data)
NEXT_PUBLIC_MUX_ENV_KEY="your-mux-env-key"

# Mux Webhook Secret (for webhook signature verification)
MUX_WEBHOOK_SECRET="your-mux-webhook-secret"

# ===========================================
# LIVESTREAMING (LiveKit)
# ===========================================
LIVEKIT_URL="wss://your-livekit-server.livekit.cloud"
LIVEKIT_API_KEY="your-api-key"
LIVEKIT_API_SECRET="your-api-secret"

# ===========================================
# STORAGE (Cloudflare R2)
# ===========================================
R2_ACCOUNT_ID="your-cloudflare-account-id"
R2_ACCESS_KEY_ID="your-r2-access-key"
R2_SECRET_ACCESS_KEY="your-r2-secret-key"
R2_BUCKET_NAME="sola-media"
R2_PUBLIC_URL="https://your-bucket.r2.cloudflarestorage.com"

# ===========================================
# EMAIL (Resend)
# ===========================================
RESEND_API_KEY="re_..."

# ===========================================
# APP CONFIG
# ===========================================
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXT_PUBLIC_APP_NAME="Sola+"

# ===========================================
# DOMAIN CONFIG
# ===========================================
# Root domain (without any subdomain)
NEXT_PUBLIC_ROOT_DOMAIN="solaplus.ai"

# App subdomain where creators log in (app.solaplus.ai)
NEXT_PUBLIC_APP_SUBDOMAIN="app"

# For production:
# - app.solaplus.ai      → Creator dashboard
# - {slug}.solaplus.ai   → Creator's member site
# - theirdomain.com      → Creator's custom domain

# ===========================================
# FEATURE FLAGS (Flagsmith - Optional)
# ===========================================
FLAGSMITH_SERVER_KEY="your-flagsmith-key"
NEXT_PUBLIC_FLAGSMITH_ENV_ID="your-env-id"
